{"ast":null,"code":"import _createForOfIteratorHelper from \"E:/Mern login/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"E:/Mern login/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"E:/Mern login/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"E:/Mern login/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"E:/Mern login/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Base } from './Base.js';\nimport { Number as NumberT } from './Number.js';\nimport * as utils from './utils.js';\n\nvar ArrayT = /*#__PURE__*/function (_Base) {\n  _inherits(ArrayT, _Base);\n\n  var _super = _createSuper(ArrayT);\n\n  function ArrayT(type, length) {\n    var _this;\n\n    var lengthType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'count';\n\n    _classCallCheck(this, ArrayT);\n\n    _this = _super.call(this);\n    _this.type = type;\n    _this.length = length;\n    _this.lengthType = lengthType;\n    return _this;\n  }\n\n  _createClass(ArrayT, [{\n    key: \"decode\",\n    value: function decode(stream, parent) {\n      var length;\n      var pos = stream.pos;\n      var res = [];\n      var ctx = parent;\n\n      if (this.length != null) {\n        length = utils.resolveLength(this.length, stream, parent);\n      }\n\n      if (this.length instanceof NumberT) {\n        // define hidden properties\n        Object.defineProperties(res, {\n          parent: {\n            value: parent\n          },\n          _startOffset: {\n            value: pos\n          },\n          _currentOffset: {\n            value: 0,\n            writable: true\n          },\n          _length: {\n            value: length\n          }\n        });\n        ctx = res;\n      }\n\n      if (length == null || this.lengthType === 'bytes') {\n        var target = length != null ? stream.pos + length : (parent != null ? parent._length : undefined) ? parent._startOffset + parent._length : stream.length;\n\n        while (stream.pos < target) {\n          res.push(this.type.decode(stream, ctx));\n        }\n      } else {\n        for (var i = 0, end = length; i < end; i++) {\n          res.push(this.type.decode(stream, ctx));\n        }\n      }\n\n      return res;\n    }\n  }, {\n    key: \"size\",\n    value: function size(array, ctx) {\n      var includePointers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      if (!array) {\n        return this.type.size(null, ctx) * utils.resolveLength(this.length, null, ctx);\n      }\n\n      var size = 0;\n\n      if (this.length instanceof NumberT) {\n        size += this.length.size();\n        ctx = {\n          parent: ctx,\n          pointerSize: 0\n        };\n      }\n\n      var _iterator = _createForOfIteratorHelper(array),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          size += this.type.size(item, ctx);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      if (ctx && includePointers && this.length instanceof NumberT) {\n        size += ctx.pointerSize;\n      }\n\n      return size;\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(stream, array, parent) {\n      var ctx = parent;\n\n      if (this.length instanceof NumberT) {\n        ctx = {\n          pointers: [],\n          startOffset: stream.pos,\n          parent: parent\n        };\n        ctx.pointerOffset = stream.pos + this.size(array, ctx, false);\n        this.length.encode(stream, array.length);\n      }\n\n      var _iterator2 = _createForOfIteratorHelper(array),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var item = _step2.value;\n          this.type.encode(stream, item, ctx);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      if (this.length instanceof NumberT) {\n        var i = 0;\n\n        while (i < ctx.pointers.length) {\n          var ptr = ctx.pointers[i++];\n          ptr.type.encode(stream, ptr.val, ptr.parent);\n        }\n      }\n    }\n  }]);\n\n  return ArrayT;\n}(Base);\n\nexport { ArrayT as Array };","map":{"version":3,"names":["Base","Number","NumberT","utils","ArrayT","type","length","lengthType","stream","parent","pos","res","ctx","resolveLength","Object","defineProperties","value","_startOffset","_currentOffset","writable","_length","target","undefined","push","decode","i","end","array","includePointers","size","pointerSize","item","pointers","startOffset","pointerOffset","encode","ptr","val","Array"],"sources":["E:/Mern login/client/node_modules/restructure/src/Array.js"],"sourcesContent":["import {Base} from './Base.js';\nimport {Number as NumberT} from './Number.js';\nimport * as utils from './utils.js';\n\nclass ArrayT extends Base {\n  constructor(type, length, lengthType = 'count') {\n    super();\n    this.type = type;\n    this.length = length;\n    this.lengthType = lengthType;\n  }\n\n  decode(stream, parent) {\n    let length;\n    const { pos } = stream;\n\n    const res = [];\n    let ctx = parent;\n\n    if (this.length != null) {\n      length = utils.resolveLength(this.length, stream, parent);\n    }\n\n    if (this.length instanceof NumberT) {\n      // define hidden properties\n      Object.defineProperties(res, {\n        parent:         { value: parent },\n        _startOffset:   { value: pos },\n        _currentOffset: { value: 0, writable: true },\n        _length:        { value: length }\n      });\n\n      ctx = res;\n    }\n\n    if ((length == null) || (this.lengthType === 'bytes')) {\n      const target = (length != null) ?\n        stream.pos + length\n      : (parent != null ? parent._length : undefined) ?\n        parent._startOffset + parent._length\n      :\n        stream.length;\n\n      while (stream.pos < target) {\n        res.push(this.type.decode(stream, ctx));\n      }\n\n    } else {\n      for (let i = 0, end = length; i < end; i++) {\n        res.push(this.type.decode(stream, ctx));\n      }\n    }\n\n    return res;\n  }\n\n  size(array, ctx, includePointers = true) {\n    if (!array) {\n      return this.type.size(null, ctx) * utils.resolveLength(this.length, null, ctx);\n    }\n\n    let size = 0;\n    if (this.length instanceof NumberT) {\n      size += this.length.size();\n      ctx = {parent: ctx, pointerSize: 0};\n    }\n\n    for (let item of array) {\n      size += this.type.size(item, ctx);\n    }\n\n    if (ctx && includePointers && this.length instanceof NumberT) {\n      size += ctx.pointerSize;\n    }\n    \n    return size;\n  }\n\n  encode(stream, array, parent) {\n    let ctx = parent;\n    if (this.length instanceof NumberT) {\n      ctx = {\n        pointers: [],\n        startOffset: stream.pos,\n        parent\n      };\n\n      ctx.pointerOffset = stream.pos + this.size(array, ctx, false);\n      this.length.encode(stream, array.length);\n    }\n\n    for (let item of array) {\n      this.type.encode(stream, item, ctx);\n    }\n\n    if (this.length instanceof NumberT) {\n      let i = 0;\n      while (i < ctx.pointers.length) {\n        const ptr = ctx.pointers[i++];\n        ptr.type.encode(stream, ptr.val, ptr.parent);\n      }\n    }\n  }\n}\n\nexport {ArrayT as Array};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
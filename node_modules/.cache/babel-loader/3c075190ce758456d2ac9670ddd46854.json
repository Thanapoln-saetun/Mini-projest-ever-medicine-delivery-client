{"ast":null,"code":"import _objectSpread from\"E:/Mern login/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import{Menu,Badge,Typography}from\"antd\";import{MailOutlined,AppstoreOutlined,SettingOutlined,ShoppingCartOutlined,HomeOutlined,UserAddOutlined,LoginOutlined,LogoutOutlined,DownOutlined,ShoppingOutlined}from\"@ant-design/icons\";// Router\nimport{Link,useNavigate}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import Search from\"../card/Search\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Navbar=function Navbar(){var SubMenu=Menu.SubMenu;var Text=Typography.Text;var dispatch=useDispatch();var navigate=useNavigate();var _useSelector=useSelector(function(state){return _objectSpread({},state);}),user=_useSelector.user,cart=_useSelector.cart;console.log(\"user Navbar\",user);var logout=function logout(){dispatch({type:\"LOGOUT\",payload:null//เคลียร์ค่าใน redux\n});navigate(\"/\");};return/*#__PURE__*/_jsxs(Menu,{mode:\"horizontal\",children:[/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(HomeOutlined,{}),children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})},\"home\"),/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(ShoppingOutlined,{}),children:/*#__PURE__*/_jsx(Link,{to:\"/shop\",children:\"Shop\"})},\"shop\"),/*#__PURE__*/_jsx(Menu.Item,{style:{float:\"right\"},icon:/*#__PURE__*/_jsx(ShoppingCartOutlined,{}),children:/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:/*#__PURE__*/_jsx(Badge,{count:cart.length,offset:[9,0],children:/*#__PURE__*/_jsx(Text,{underline:true,children:\"Cart\"})})})},\"cart\"),user&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(SubMenu,{style:{float:\"right\"},icon:/*#__PURE__*/_jsx(DownOutlined,{}),title:user.username,children:[user.role==\"admin\"?/*#__PURE__*/_jsx(Menu.Item,{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/index\",children:\"Dashboard\"})},\"setting:5\")//true\n:/*#__PURE__*/_jsx(Menu.Item,{children:/*#__PURE__*/_jsx(Link,{to:\"/user/index\",children:\"Dashboard\"})},\"setting:5\")//false\n,/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(LogoutOutlined,{}),onClick:logout,children:\"Logout\"},\"setting:1\")]},\"SubMenu\")}),!user&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Menu.Item,{style:{float:\"right\"},icon:/*#__PURE__*/_jsx(LoginOutlined,{}),children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})},\"mail\"),/*#__PURE__*/_jsx(Menu.Item,{style:{float:\"right\"},icon:/*#__PURE__*/_jsx(UserAddOutlined,{}),children:/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})},\"register\")]}),/*#__PURE__*/_jsx(\"span\",{className:\"p-1\",style:{float:\"right\"},children:/*#__PURE__*/_jsx(Search,{})})]});};export default Navbar;","map":{"version":3,"names":["React","Menu","Badge","Typography","MailOutlined","AppstoreOutlined","SettingOutlined","ShoppingCartOutlined","HomeOutlined","UserAddOutlined","LoginOutlined","LogoutOutlined","DownOutlined","ShoppingOutlined","Link","useNavigate","useDispatch","useSelector","Search","Navbar","SubMenu","Text","dispatch","navigate","state","user","cart","console","log","logout","type","payload","float","length","username","role"],"sources":["E:/Mern login/client/src/components/layouts/Navbar.js"],"sourcesContent":["import React from \"react\";\r\nimport { Menu, Badge, Typography} from \"antd\";\r\nimport {\r\n  MailOutlined,\r\n  AppstoreOutlined,\r\n  SettingOutlined,\r\n  ShoppingCartOutlined,\r\n  HomeOutlined,\r\n  UserAddOutlined,\r\n  LoginOutlined,\r\n  LogoutOutlined,\r\n  DownOutlined,\r\n  ShoppingOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\n// Router\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Search from \"../card/Search\";\r\n\r\nconst Navbar = () => {\r\n  const { SubMenu } = Menu;\r\n  const { Text } = Typography;\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { user, cart } = useSelector((state) => ({ ...state }));\r\n  console.log(\"user Navbar\", user);\r\n\r\n  const logout = () => {\r\n    dispatch({\r\n      type: \"LOGOUT\",\r\n      payload: null,//เคลียร์ค่าใน redux\r\n    });\r\n    navigate(\"/\");\r\n  };\r\n  return (\r\n    <Menu mode=\"horizontal\" >\r\n      <Menu.Item key=\"home\" icon={<HomeOutlined />}>\r\n        <Link to=\"/\">Home</Link>\r\n      </Menu.Item>\r\n\r\n\r\n      \r\n      <Menu.Item key=\"shop\" icon={<ShoppingOutlined />}>\r\n\r\n        <Link to=\"/shop\">Shop</Link>\r\n      </Menu.Item>\r\n\r\n      <Menu.Item style={{ float: \"right\"  }}   key=\"cart\" icon={<ShoppingCartOutlined />}>\r\n        <Link to=\"/cart\">\r\n          <Badge count={cart.length} offset={[9, 0]}>\r\n          <Text underline>Cart</Text>\r\n          </Badge>\r\n        </Link>\r\n      </Menu.Item>\r\n      {user && (\r\n        <>\r\n          {/* {user.username} */}\r\n          <SubMenu\r\n            style={{ float: \"right\" }}\r\n            key=\"SubMenu\"\r\n            icon={<DownOutlined />}\r\n            title={user.username}\r\n          >\r\n            {\r\n              user.role == \"admin\" ? (\r\n                <Menu.Item\r\n                  // icon={<LogoutOutlined />}\r\n                  key=\"setting:5\"\r\n                >\r\n                  <Link to=\"/admin/index\">Dashboard</Link>\r\n                </Menu.Item> //true\r\n              ) : (\r\n                <Menu.Item\r\n                  // icon={<LogoutOutlined />}\r\n                  key=\"setting:5\"\r\n                >\r\n                  <Link to=\"/user/index\">Dashboard</Link>\r\n                </Menu.Item>\r\n              ) //false\r\n            }\r\n\r\n            <Menu.Item\r\n              icon={<LogoutOutlined />}\r\n              key=\"setting:1\"\r\n              onClick={logout}\r\n            >\r\n              Logout\r\n            </Menu.Item>\r\n          </SubMenu>\r\n        </>\r\n      )}\r\n\r\n      {!user && (\r\n        <>\r\n          <Menu.Item\r\n            key=\"mail\"\r\n            style={{ float: \"right\" }}\r\n            icon={<LoginOutlined />}\r\n          >\r\n            {/* <a href=\"\" ></a>*/}\r\n            <Link to=\"/login\">Login</Link>\r\n          </Menu.Item>\r\n\r\n          <Menu.Item\r\n            style={{ float: \"right\" }}\r\n            key=\"register\"\r\n            icon={<UserAddOutlined />}\r\n          >\r\n            <Link to=\"/register\">Register</Link>\r\n          </Menu.Item>\r\n        </>\r\n      )}\r\n\r\n      <span className=\"p-1\" style={{ float: \"right\" }}>\r\n        <Search />\r\n      </span>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
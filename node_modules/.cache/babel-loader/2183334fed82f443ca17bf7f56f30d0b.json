{"ast":null,"code":"var _jsxFileName = \"E:\\\\Mern login\\\\client\\\\src\\\\components\\\\card\\\\SingleProductCard.js\",\n    _s = $RefreshSig$();\n\n// rafce\nimport React from \"react\";\nimport { Card, Tabs } from \"antd\";\nimport { HeartOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\n\nimport { Carousel } from \"react-responsive-carousel\";\nimport { useSelector, useDispatch } from 'react-redux'; // lodash\n\nimport _ from 'lodash'; // function\n\nimport { addToWishList } from '../functions/users';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Meta\n} = Card;\nconst {\n  TabPane\n} = Tabs;\n\nconst SingleProductCard = _ref => {\n  _s();\n\n  let {\n    product\n  } = _ref;\n  const dispatch = useDispatch();\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  console.log(product);\n  const {\n    _id,\n    title,\n    description,\n    images,\n    price,\n    sold,\n    quantity,\n    category\n  } = product;\n\n  const handleAddToCart = () => {\n    let cart = [];\n\n    if (localStorage.getItem('cart')) {\n      cart = JSON.parse(localStorage.getItem('cart'));\n    }\n\n    cart.push({ ...product,\n      count: 1\n    });\n\n    let unique = _.uniqWith(cart, _.isEqual);\n\n    localStorage.setItem(\"cart\", JSON.stringify(unique));\n    dispatch({\n      type: \"ADD_TO_CART\",\n      payload: unique\n    });\n    dispatch({\n      type: 'SET_VISIBLE',\n      payload: true\n    });\n  };\n\n  const handleAddToWishList = e => {\n    console.log(user);\n\n    if (user) {\n      addToWishList(user.token, _id).then(res => {\n        console.log(res.data);\n        toast.success('Add to wishlist Success');\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {\n      toast.error('Go to Login');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-7\",\n      children: [/*#__PURE__*/_jsxDEV(Carousel, {\n        autoPlay: true,\n        showArrows: true,\n        infiniteLoop: true,\n        children: images && images.map(item => /*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.url\n        }, item.public_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 34\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n        children: [/*#__PURE__*/_jsxDEV(TabPane, {\n          tab: \"Description\",\n          children: description\n        }, \"1\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabPane, {\n          tab: \"More...\",\n          children: \"More...\"\n        }, \"2\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \" p-3\",\n        style: {\n          backgroundColor: \"#19B687\"\n        },\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        actions: [/*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: handleAddToWishList,\n          children: [/*#__PURE__*/_jsxDEV(HeartOutlined, {\n            className: \"text-info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), \"Add to wishlist\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: handleAddToCart,\n            children: [/*#__PURE__*/_jsxDEV(ShoppingCartOutlined, {\n              className: \"text-danger\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), \"Add to cart\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)\n        }, void 0, false)],\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-group list-group-flush\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item\",\n            children: [\"Price\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"float-end\",\n              children: price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item\",\n            children: [\"Quantity\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"float-end\",\n              children: quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item\",\n            children: [\"Sold\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"float-end\",\n              children: sold\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), category && /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item\",\n            children: [\"Category\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"float-end\",\n              children: category.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(SingleProductCard, \"FUGwOHTRI+DmOFaBIVBGv8hjKds=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = SingleProductCard;\nexport default SingleProductCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"SingleProductCard\");","map":{"version":3,"names":["React","Card","Tabs","HeartOutlined","ShoppingCartOutlined","Link","Carousel","useSelector","useDispatch","_","addToWishList","toast","Meta","TabPane","SingleProductCard","product","dispatch","user","state","console","log","_id","title","description","images","price","sold","quantity","category","handleAddToCart","cart","localStorage","getItem","JSON","parse","push","count","unique","uniqWith","isEqual","setItem","stringify","type","payload","handleAddToWishList","e","token","then","res","data","success","catch","err","error","map","item","url","public_id","backgroundColor","name"],"sources":["E:/Mern login/client/src/components/card/SingleProductCard.js"],"sourcesContent":["// rafce\r\nimport React from \"react\";\r\nimport { Card,Tabs } from \"antd\";\r\nimport { HeartOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from \"react-responsive-carousel\";\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\n// lodash\r\nimport _ from 'lodash'\r\n// function\r\nimport { addToWishList } from '../functions/users'\r\n\r\nimport { toast } from 'react-toastify'\r\n\r\n\r\nconst { Meta } = Card;\r\nconst { TabPane } = Tabs;\r\n\r\nconst SingleProductCard = ({ product }) => {\r\n  const dispatch = useDispatch()\r\n  const { user } = useSelector((state)=>({...state}))\r\n\r\n\r\n  console.log(product)\r\n  const { _id, title, description, images, price, sold,quantity,category } = product;\r\n  \r\n  \r\n  const handleAddToCart = () =>{\r\n    let cart = []\r\n    if(localStorage.getItem('cart')){\r\n      cart = JSON.parse(localStorage.getItem('cart')) \r\n    }\r\n    cart.push({\r\n      ...product,\r\n      count:1\r\n    })\r\n    let unique = _.uniqWith(cart,_.isEqual)\r\n\r\n    localStorage.setItem(\"cart\",JSON.stringify(unique) )\r\n    \r\n    \r\n    dispatch({\r\n      type:\"ADD_TO_CART\",\r\n      payload:unique\r\n    })\r\n    dispatch({\r\n      type:'SET_VISIBLE',\r\n      payload:true\r\n    })\r\n\r\n  }\r\n \r\n  const handleAddToWishList = (e) =>{\r\n    console.log(user)\r\n    if(user){\r\n      addToWishList(user.token,_id)\r\n      .then(res=>{\r\n        console.log(res.data)\r\n        toast.success('Add to wishlist Success')\r\n      }).catch((err)=>{\r\n        console.log(err)\r\n      })\r\n    }else{\r\n      toast.error('Go to Login')\r\n    }\r\n    \r\n\r\n\r\n  }\r\n \r\n\r\n  return (\r\n    <>\r\n      <div className=\"col-md-7\">\r\n        <Carousel autoPlay showArrows={true} infiniteLoop>\r\n          {images &&\r\n            images.map((item) => <img src={item.url} key={item.public_id} />)}\r\n        </Carousel>\r\n\r\n        <Tabs>\r\n          <TabPane tab=\"Description\" key=\"1\">\r\n            {description}\r\n          </TabPane>\r\n          <TabPane tab=\"More...\" key=\"2\">\r\n            More...\r\n          </TabPane>\r\n        </Tabs>\r\n      </div>\r\n\r\n      <div className=\"col-md-5\">\r\n        <h1 className=\" p-3\" style={{backgroundColor : \"#19B687\"}}>{title}</h1>\r\n        <Card\r\n          actions={[\r\n            <a onClick={handleAddToWishList}>\r\n              <HeartOutlined className=\"text-info\" />\r\n              <br />\r\n              Add to wishlist\r\n            </a>,\r\n\r\n            <>\r\n            <a onClick={handleAddToCart}>\r\n              <ShoppingCartOutlined \r\n              className=\"text-danger\" />\r\n              <br />\r\n              Add to cart\r\n              </a>\r\n            </>,\r\n          ]}\r\n        >\r\n          <ul className=\"list-group list-group-flush\">\r\n\r\n            <li className=\"list-group-item\">\r\n              Price\r\n              <span className=\"float-end\">{price}</span>\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n              Quantity\r\n              <span className=\"float-end\">{quantity}</span>\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n              Sold\r\n              <span className=\"float-end\">{sold}</span>\r\n            </li>\r\n\r\n            { category && \r\n             <li className=\"list-group-item\">\r\n             Category\r\n               <span className=\"float-end\">{category.name}</span>\r\n             </li>\r\n            }\r\n           \r\n\r\n\r\n          </ul>\r\n        </Card>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SingleProductCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
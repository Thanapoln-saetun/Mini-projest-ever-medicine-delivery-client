{"ast":null,"code":"import _objectSpread from\"E:/Mern login/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// rafce\nimport React from\"react\";import{Card,Tabs}from\"antd\";import{HeartOutlined,ShoppingCartOutlined}from\"@ant-design/icons\";import{Link}from\"react-router-dom\";import\"react-responsive-carousel/lib/styles/carousel.min.css\";// requires a loader\nimport{Carousel}from\"react-responsive-carousel\";import{useSelector,useDispatch}from'react-redux';// lodash\nimport _ from'lodash';// function\nimport{addToWishList}from'../functions/users';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Meta=Card.Meta;var TabPane=Tabs.TabPane;var SingleProductCard=function SingleProductCard(_ref){var product=_ref.product;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return _objectSpread({},state);}),user=_useSelector.user;console.log(product);var _id=product._id,title=product.title,description=product.description,images=product.images,price=product.price,sold=product.sold,quantity=product.quantity,category=product.category;var handleAddToCart=function handleAddToCart(){var cart=[];if(localStorage.getItem('cart')){cart=JSON.parse(localStorage.getItem('cart'));}cart.push(_objectSpread(_objectSpread({},product),{},{count:1}));var unique=_.uniqWith(cart,_.isEqual);localStorage.setItem(\"cart\",JSON.stringify(unique));dispatch({type:\"ADD_TO_CART\",payload:unique});dispatch({type:'SET_VISIBLE',payload:true});};var handleAddToWishList=function handleAddToWishList(e){console.log(user);if(user){addToWishList(user.token,_id).then(function(res){console.log(res.data);toast.success('Add to wishlist Success');}).catch(function(err){console.log(err);});}else{toast.error('Go to Login');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-7 pb-5\",children:[/*#__PURE__*/_jsx(Carousel,{autoPlay:true,showArrows:true,infiniteLoop:true,children:images&&images.map(function(item){return/*#__PURE__*/_jsx(\"img\",{src:item.url},item.public_id);})}),/*#__PURE__*/_jsxs(Tabs,{children:[/*#__PURE__*/_jsx(TabPane,{tab:\"Description\",children:description},\"1\"),/*#__PURE__*/_jsx(TabPane,{tab:\"More...\",children:\"More...\"},\"2\")]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\" p-3\",style:{backgroundColor:\"#3B82F6\"},children:title}),/*#__PURE__*/_jsx(Card,{actions:[/*#__PURE__*/_jsxs(\"a\",{onClick:handleAddToWishList,children:[/*#__PURE__*/_jsx(HeartOutlined,{className:\"text-info\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Add to wishlist\"]}),/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"a\",{onClick:handleAddToCart,children:[/*#__PURE__*/_jsx(ShoppingCartOutlined,{className:\"text-danger\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Add to cart\"]})})],children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group list-group-flush\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[\"Price\",/*#__PURE__*/_jsx(\"span\",{className:\"float-end\",children:price})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[\"Quantity\",/*#__PURE__*/_jsx(\"span\",{className:\"float-end\",children:quantity})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[\"Sold\",/*#__PURE__*/_jsx(\"span\",{className:\"float-end\",children:sold})]}),category&&/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[\"Category\",/*#__PURE__*/_jsx(\"span\",{className:\"float-end\",children:category.name})]})]})})]})]});};export default SingleProductCard;","map":{"version":3,"names":["React","Card","Tabs","HeartOutlined","ShoppingCartOutlined","Link","Carousel","useSelector","useDispatch","_","addToWishList","toast","Meta","TabPane","SingleProductCard","product","dispatch","state","user","console","log","_id","title","description","images","price","sold","quantity","category","handleAddToCart","cart","localStorage","getItem","JSON","parse","push","count","unique","uniqWith","isEqual","setItem","stringify","type","payload","handleAddToWishList","e","token","then","res","data","success","catch","err","error","map","item","url","public_id","backgroundColor","name"],"sources":["E:/Mern login/client/src/components/card/SingleProductCard.js"],"sourcesContent":["// rafce\r\nimport React from \"react\";\r\nimport { Card,Tabs } from \"antd\";\r\nimport { HeartOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from \"react-responsive-carousel\";\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\n// lodash\r\nimport _ from 'lodash'\r\n// function\r\nimport { addToWishList } from '../functions/users'\r\n\r\nimport { toast } from 'react-toastify'\r\n\r\n\r\nconst { Meta } = Card;\r\nconst { TabPane } = Tabs;\r\n\r\nconst SingleProductCard = ({ product }) => {\r\n  const dispatch = useDispatch()\r\n  const { user } = useSelector((state)=>({...state}))\r\n\r\n\r\n  console.log(product)\r\n  const { _id, title, description, images, price, sold,quantity,category } = product;\r\n  \r\n  \r\n  const handleAddToCart = () =>{\r\n    let cart = []\r\n    if(localStorage.getItem('cart')){\r\n      cart = JSON.parse(localStorage.getItem('cart')) \r\n    }\r\n    cart.push({\r\n      ...product,\r\n      count:1\r\n    })\r\n    let unique = _.uniqWith(cart,_.isEqual)\r\n\r\n    localStorage.setItem(\"cart\",JSON.stringify(unique) )\r\n    \r\n    \r\n    dispatch({\r\n      type:\"ADD_TO_CART\",\r\n      payload:unique\r\n    })\r\n    dispatch({\r\n      type:'SET_VISIBLE',\r\n      payload:true\r\n    })\r\n\r\n  }\r\n \r\n  const handleAddToWishList = (e) =>{\r\n    console.log(user)\r\n    if(user){\r\n      addToWishList(user.token,_id)\r\n      .then(res=>{\r\n        console.log(res.data)\r\n        toast.success('Add to wishlist Success')\r\n      }).catch((err)=>{\r\n        console.log(err)\r\n      })\r\n    }else{\r\n      toast.error('Go to Login')\r\n    }\r\n    \r\n\r\n\r\n  }\r\n \r\n\r\n  return (\r\n    <>\r\n      <div className=\"col-md-7 pb-5\">\r\n        <Carousel autoPlay showArrows={true} infiniteLoop>\r\n          {images &&\r\n            images.map((item) => <img src={item.url} key={item.public_id} />)}\r\n        </Carousel>\r\n\r\n        <Tabs>\r\n          <TabPane tab=\"Description\" key=\"1\">\r\n            {description}\r\n          </TabPane>\r\n          <TabPane tab=\"More...\" key=\"2\">\r\n            More...\r\n          </TabPane>\r\n        </Tabs>\r\n      </div>\r\n\r\n      <div className=\"col-md-5\">\r\n        <h1 className=\" p-3\" style={{backgroundColor : \"#3B82F6\"}}>{title}</h1>\r\n        <Card\r\n          actions={[\r\n            <a onClick={handleAddToWishList}>\r\n              <HeartOutlined className=\"text-info\" />\r\n              <br />\r\n              Add to wishlist\r\n            </a>,\r\n\r\n            <>\r\n            <a onClick={handleAddToCart}>\r\n              <ShoppingCartOutlined \r\n              className=\"text-danger\" />\r\n              <br />\r\n              Add to cart\r\n              </a>\r\n            </>,\r\n          ]}\r\n        >\r\n          <ul className=\"list-group list-group-flush\">\r\n\r\n            <li className=\"list-group-item\">\r\n              Price\r\n              <span className=\"float-end\">{price}</span>\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n              Quantity\r\n              <span className=\"float-end\">{quantity}</span>\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n              Sold\r\n              <span className=\"float-end\">{sold}</span>\r\n            </li>\r\n\r\n            { category && \r\n             <li className=\"list-group-item\">\r\n             Category\r\n               <span className=\"float-end\">{category.name}</span>\r\n             </li>\r\n            }\r\n           \r\n\r\n\r\n          </ul>\r\n        </Card>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SingleProductCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
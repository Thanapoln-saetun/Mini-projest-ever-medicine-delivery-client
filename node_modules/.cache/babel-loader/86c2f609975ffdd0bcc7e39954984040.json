{"ast":null,"code":"var _jsxFileName = \"E:\\\\Mern login\\\\client\\\\src\\\\components\\\\pages\\\\admin\\\\product\\\\CreateProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport MenubarAdmin from \"../../../layouts/MenubarAdmin\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\"; // functions\n\nimport { createProduct } from \"../../../functions/product\";\nimport { listCategory } from \"../../../functions/category\";\nimport FileUpload from \"./FileUpload\";\nimport { Spin } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialstate = {\n  title: \"ยา\",\n  description: \"รายละเอียดยา\",\n  categories: [],\n  category: \"\",\n  price: \"100\",\n  quantity: \"5\",\n  images: []\n};\n\nconst Home = () => {\n  _s();\n\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  const [values, setValues] = useState(initialstate);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    loadData(user.token);\n  }, []);\n\n  const loadData = authtoken => {\n    listCategory(authtoken).then(res => {\n      setValues({ ...values,\n        categories: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  console.log(\"values\", values);\n\n  const handleChange = e => {\n    setValues({ ...values,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    createProduct(user.token, values).then(res => {\n      console.log(res);\n      toast.success(\"Insert \" + res.data.title + \" Success!!\");\n      window.location.reload();\n    }).catch(err => {\n      console.log(err.response);\n      toast.error(err.response.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-2\",\n        children: /*#__PURE__*/_jsxDEV(MenubarAdmin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: [loading ? /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Loading...\", /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this) //true\n        : /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Create Product Page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this) //false\n        , /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"text\",\n              name: \"title\",\n              value: values.title,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-control\",\n              type: \"text\",\n              name: \"description\",\n              value: values.description,\n              onChange: handleChange,\n              rows: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"number\",\n              name: \"price\",\n              value: values.price,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"number\",\n              name: \"quantity\",\n              value: values.quantity,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              name: \"category\",\n              onChange: handleChange,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Please Select\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this), values.categories.length > 0 && values.categories.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: item._id,\n                children: item.name\n              }, item._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FileUpload, {\n            loading: loading,\n            setLoading: setLoading,\n            values: values,\n            setValues: setValues\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"qOzFutwZXM6PT/ko2s1jqnXzmIc=\", false, function () {\n  return [useSelector];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","MenubarAdmin","toast","useSelector","createProduct","listCategory","FileUpload","Spin","initialstate","title","description","categories","category","price","quantity","images","Home","user","state","values","setValues","loading","setLoading","loadData","token","authtoken","then","res","data","catch","err","console","log","handleChange","e","target","name","value","handleSubmit","preventDefault","success","window","location","reload","response","error","length","map","item","_id"],"sources":["E:/Mern login/client/src/components/pages/admin/product/CreateProduct.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport MenubarAdmin from \"../../../layouts/MenubarAdmin\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n// functions\r\nimport { createProduct } from \"../../../functions/product\";\r\nimport { listCategory } from \"../../../functions/category\";\r\n\r\nimport FileUpload from \"./FileUpload\";\r\nimport { Spin } from 'antd';\r\n\r\n\r\nconst initialstate = {\r\n  title: \"ยา\",\r\n  description: \"รายละเอียดยา\",\r\n  categories: [],\r\n  category: \"\",\r\n  price: \"100\",\r\n\r\n  quantity: \"5\",\r\n  images: [],\r\n};\r\n\r\nconst Home = () => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n  const [values, setValues] = useState(initialstate);\r\n  const [loading,setLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    loadData(user.token);\r\n  }, []);\r\n\r\n  const loadData = (authtoken) => {\r\n    listCategory(authtoken)\r\n      .then((res) => {\r\n        setValues({ ...values, categories: res.data });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  console.log(\"values\", values);\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    createProduct(user.token, values)\r\n      .then((res) => {\r\n        console.log(res);\r\n        toast.success(\"Insert \" + res.data.title + \" Success!!\");\r\n        window.location.reload()\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.response);\r\n        toast.error(err.response.data);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <MenubarAdmin />\r\n        </div>\r\n\r\n        <div className=\"col\">\r\n          {loading\r\n            ? <h1>Loading...<Spin /></h1>//true\r\n            : <h1>Create Product Page</h1>//false\r\n          }\r\n          \r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"form-group\">\r\n              <label>title</label>\r\n              <input\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                name=\"title\"\r\n                value={values.title}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>description</label>\r\n              <textarea \r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                name=\"description\"\r\n                value={values.description}\r\n                onChange={handleChange}\r\n                rows=\"1\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>price</label>\r\n              <input\r\n                className=\"form-control\"\r\n                type=\"number\"\r\n                name=\"price\"\r\n                value={values.price}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n          \r\n           \r\n            <div className=\"form-group\">\r\n              <label>quantity</label>\r\n              <input\r\n                className=\"form-control\"\r\n                type=\"number\"\r\n                name=\"quantity\"\r\n                value={values.quantity}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>Category</label>\r\n              <select\r\n                className=\"form-control\"\r\n                name=\"category\"\r\n                onChange={handleChange}\r\n                required\r\n              >\r\n                <option>Please Select</option>\r\n                {values.categories.length > 0 &&\r\n                  values.categories.map((item) => (\r\n                    <option key={item._id} value={item._id}>\r\n                      {item.name}\r\n                    </option>\r\n                  ))}\r\n              </select>\r\n            </div>\r\n\r\n            <FileUpload \r\n            loading={loading}\r\n            setLoading={setLoading}\r\n            values={values} \r\n            setValues={setValues} \r\n            />\r\n\r\n            <button className=\"btn btn-primary\">Submit</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
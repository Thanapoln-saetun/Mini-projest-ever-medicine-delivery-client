{"ast":null,"code":"import React,{useState,useEffect}from\"react\";// Page\nimport Register from\"./components/pages/auth/Register\";import Login from\"./components/pages/auth/Login\";import Home from\"./components/pages/Home\";import Product from'./components/pages/Product';import Shop from'./components/pages/Shop';import Cart from'./components/pages/Cart';// Layout\nimport Navbar from\"./components/layouts/Navbar\";// V.6\nimport{Routes,Route}from\"react-router-dom\";// pages admin\nimport HomeAdmin from\"./components/pages/admin/Home\";import ManageAdmin from\"./components/pages/admin/ManageAdmin\";import CreateCategory from\"./components/pages/admin/category/CreateCategory\";import UpdateCategory from\"./components/pages/admin/category/UpdateCategory\";import CreateProduct from\"./components/pages/admin/product/CreateProduct\";import UpdateProduct from\"./components/pages/admin/product/UpdateProduct\";import Orders from'./components/pages/admin/Orders';// pages user\nimport HomeUser from\"./components/pages/user/Home\";import CheckOut from'./components/pages/CheckOut';import WishList from'./components/pages/user/WishList';import History from'./components/pages/user/History';// functions\nimport{currentUser}from\"./components/functions/auth\";// redux\nimport{useDispatch}from\"react-redux\";// Routes\nimport UserRoute from\"./components/routes/UserRoute\";import AdminRoute from\"./components/routes/AdminRoute\";// Drawer\nimport SideDrawer from'./components/drawer/SideDrawer';//Messenger\nimport MessengerCustomerChat from'react-messenger-customer-chat';import{ToastContainer}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var dispatch=useDispatch();var idtoken=localStorage.token;if(idtoken){currentUser(idtoken).then(function(res){// ข้อมูล user จาก backend\n//code\nconsole.log(res.data);dispatch({type:\"LOGIN\",payload:{token:idtoken,username:res.data.username,role:res.data.role}});}).catch(function(err){//err\nconsole.log(err);});}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(SideDrawer,{}),/*#__PURE__*/_jsx(MessengerCustomerChat,{pageId:\"101283422718653\",appId:\"479322233709096\"}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/product/:id\",element:/*#__PURE__*/_jsx(Product,{})}),/*#__PURE__*/_jsx(Route,{path:\"/shop\",element:/*#__PURE__*/_jsx(Shop,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/index\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(HomeAdmin,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/manage-admin\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(ManageAdmin,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/create-category\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(CreateCategory,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/update-category/:id\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(UpdateCategory,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/create-product\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(CreateProduct,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/update-product/:id\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(UpdateProduct,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/orders\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(Orders,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/user/index\",element:/*#__PURE__*/_jsx(UserRoute,{children:/*#__PURE__*/_jsx(HomeUser,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/checkout\",element:/*#__PURE__*/_jsx(UserRoute,{children:/*#__PURE__*/_jsx(CheckOut,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/user/wishlist\",element:/*#__PURE__*/_jsx(UserRoute,{children:/*#__PURE__*/_jsx(WishList,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/user/history\",element:/*#__PURE__*/_jsx(UserRoute,{children:/*#__PURE__*/_jsx(History,{})})})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Register","Login","Home","Product","Shop","Cart","Navbar","Routes","Route","HomeAdmin","ManageAdmin","CreateCategory","UpdateCategory","CreateProduct","UpdateProduct","Orders","HomeUser","CheckOut","WishList","History","currentUser","useDispatch","UserRoute","AdminRoute","SideDrawer","MessengerCustomerChat","ToastContainer","App","dispatch","idtoken","localStorage","token","then","res","console","log","data","type","payload","username","role","catch","err"],"sources":["E:/Mern login/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\n\n// Page\nimport Register from \"./components/pages/auth/Register\";\nimport Login from \"./components/pages/auth/Login\";\nimport Home from \"./components/pages/Home\";\nimport Product from './components/pages/Product';\nimport Shop from './components/pages/Shop'\nimport Cart from './components/pages/Cart'\n\n// Layout\nimport Navbar from \"./components/layouts/Navbar\";\n\n// V.6\nimport { Routes, Route } from \"react-router-dom\";\n\n// pages admin\nimport HomeAdmin from \"./components/pages/admin/Home\";\nimport ManageAdmin from \"./components/pages/admin/ManageAdmin\";\nimport CreateCategory from \"./components/pages/admin/category/CreateCategory\";\nimport UpdateCategory from \"./components/pages/admin/category/UpdateCategory\";\n\nimport CreateProduct from \"./components/pages/admin/product/CreateProduct\";\nimport UpdateProduct from \"./components/pages/admin/product/UpdateProduct\";\n\nimport Orders from './components/pages/admin/Orders'\n\n\n// pages user\nimport HomeUser from \"./components/pages/user/Home\";\nimport CheckOut from './components/pages/CheckOut'\nimport WishList from './components/pages/user/WishList'\nimport History from './components/pages/user/History'\n\n\n// functions\nimport { currentUser } from \"./components/functions/auth\";\n// redux\nimport { useDispatch } from \"react-redux\";\n\n// Routes\nimport UserRoute from \"./components/routes/UserRoute\";\nimport AdminRoute from \"./components/routes/AdminRoute\";\n\n// Drawer\nimport SideDrawer from './components/drawer/SideDrawer'\n\n//Messenger\nimport MessengerCustomerChat from 'react-messenger-customer-chat';\n\n\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const idtoken = localStorage.token;\n  if (idtoken) {\n    currentUser(idtoken)\n      .then((res) => {// ข้อมูล user จาก backend\n        //code\n        console.log(res.data);\n        dispatch({\n          type: \"LOGIN\",\n          payload: {\n            token: idtoken,\n            username: res.data.username,\n            role: res.data.role,\n          },\n        });\n      })\n      .catch((err) => {\n        //err\n        console.log(err);\n      });\n  }\n\n  return (\n    <div className=\"App\">\n      <ToastContainer />\n      <Navbar />\n      <SideDrawer />\n      <MessengerCustomerChat pageId=\"101283422718653\" appId=\"479322233709096\" />\n      <Routes>\n        \n        <Route path=\"/\" element={<Home />} />\n        <Route path=\"/register\" element={<Register />} />\n        <Route path=\"/login\" element={<Login />} />\n        \n        <Route path=\"/product/:id\" element={<Product />} />\n        <Route path=\"/shop\" element={<Shop />} />\n        <Route path=\"/cart\" element={<Cart />} />\n\n        {/* Protect Rout */}\n        <Route \n          path=\"/admin/index\"\n          element={\n            <AdminRoute>\n              <HomeAdmin />\n            </AdminRoute>\n          }\n        />\n\n        <Route\n          path=\"/admin/manage-admin\"\n          element={\n            <AdminRoute>\n              <ManageAdmin />\n            </AdminRoute>\n          }\n        />\n\n        <Route\n          path=\"/admin/create-category\"\n          element={\n            <AdminRoute>\n              <CreateCategory />\n            </AdminRoute>\n          }\n        />\n        <Route\n          path=\"/admin/update-category/:id\"\n          element={\n            <AdminRoute>\n              <UpdateCategory />\n            </AdminRoute>\n          }\n        />\n\n        <Route\n          path=\"/admin/create-product\"\n          element={\n            <AdminRoute>\n              <CreateProduct />\n            </AdminRoute>\n          }\n        />\n\n        <Route\n          path=\"/admin/update-product/:id\"\n          element={\n            <AdminRoute>\n              <UpdateProduct />\n            </AdminRoute>\n          }\n        />\n        <Route\n          path=\"/admin/orders\"\n          element={\n            <AdminRoute>\n              <Orders />\n            </AdminRoute>\n          }\n        />\n\n\n\n\n        <Route \n          path=\"/user/index\"\n          element={\n            <UserRoute>\n              <HomeUser />\n            </UserRoute>\n          }\n        />\n\n        <Route\n          path=\"/checkout\"\n          element={\n            <UserRoute>\n              <CheckOut />\n            </UserRoute>\n          }\n        />\n\n        <Route\n          path=\"/user/wishlist\"\n          element={\n            <UserRoute>\n              <WishList />\n            </UserRoute>\n          }\n        />\n\n        <Route\n          path=\"/user/history\"\n          element={\n            <UserRoute>\n              <History />\n            </UserRoute>\n          }\n        />\n\n\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _objectSpread from\"E:/Mern login/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// rafce\nimport React from\"react\";import{Card}from\"antd\";import{EyeOutlined,ShoppingCartOutlined}from\"@ant-design/icons\";import{Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{Row,Col}from'antd';// lodash\nimport _ from'lodash';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Meta=Card.Meta;var ProductCard=function ProductCard(_ref){var product=_ref.product;var dispatch=useDispatch();console.log(\"product\",product);var _id=product._id,title=product.title,description=product.description,images=product.images,price=product.price;var handleAddToCart=function handleAddToCart(){var cart=[];if(localStorage.getItem('cart')){cart=JSON.parse(localStorage.getItem('cart'));}cart.push(_objectSpread(_objectSpread({},product),{},{count:1}));var unique=_.uniqWith(cart,_.isEqual);localStorage.setItem(\"cart\",JSON.stringify(unique));dispatch({type:\"ADD_TO_CART\",payload:unique});dispatch({type:'SET_VISIBLE',payload:true});};return/*#__PURE__*/_jsx(Card,{hoverable:true,cover:/*#__PURE__*/_jsx(\"img\",{className:\"p-1\",style:{height:\"180px\",objectFit:\"cover\"},alt:\"example\",src:images&&images.length?images[0].url:\"\"}),actions:[/*#__PURE__*/_jsx(Link,{to:'/product/'+_id,children:/*#__PURE__*/_jsx(EyeOutlined,{className:\"text-warning\"})}),/*#__PURE__*/_jsx(ShoppingCartOutlined,{onClick:handleAddToCart,className:\"text-danger\"})],children:/*#__PURE__*/_jsx(Meta,{title:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(\"h5\",{children:title})}),/*#__PURE__*/_jsx(Col,{span:12,style:{textAlign:'right'},children:/*#__PURE__*/_jsxs(\"h5\",{style:{color:'#19B687'},children:[\" \",price,\" \\u0E1A\\u0E32\\u0E17\"]})})]})}),description:description})});};export default ProductCard;","map":{"version":3,"names":["React","Card","EyeOutlined","ShoppingCartOutlined","Link","useSelector","useDispatch","Row","Col","_","Meta","ProductCard","product","dispatch","console","log","_id","title","description","images","price","handleAddToCart","cart","localStorage","getItem","JSON","parse","push","count","unique","uniqWith","isEqual","setItem","stringify","type","payload","height","objectFit","length","url","textAlign","color"],"sources":["E:/Mern login/client/src/components/card/ProductCard.js"],"sourcesContent":["// rafce\r\nimport React from \"react\";\r\nimport { Card } from \"antd\";\r\nimport { EyeOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\r\nimport { Link } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Row, Col } from 'antd';\r\n\r\n// lodash\r\nimport _ from 'lodash'\r\n\r\nconst { Meta } = Card;\r\n\r\nconst ProductCard = ({ product }) => {\r\n  const dispatch = useDispatch()\r\n\r\n  \r\n\r\n\r\n   console.log(\"product\",product);\r\n  const { _id, title, description, images, price } = product;\r\n\r\n  const handleAddToCart = () =>{\r\n    let cart = []\r\n    if(localStorage.getItem('cart')){\r\n      cart = JSON.parse(localStorage.getItem('cart')) \r\n    }\r\n    cart.push({\r\n      ...product,\r\n      count:1\r\n    })\r\n    let unique = _.uniqWith(cart,_.isEqual)\r\n\r\n    localStorage.setItem(\"cart\",JSON.stringify(unique) )\r\n    \r\n    \r\n    dispatch({\r\n      type:\"ADD_TO_CART\",\r\n      payload:unique\r\n    })\r\n    dispatch({\r\n      type:'SET_VISIBLE',\r\n      payload:true\r\n    })\r\n\r\n  }\r\n\r\n  return (\r\n    \r\n    <Card \r\n      hoverable\r\n      cover={\r\n        <img\r\n          className=\"p-1\"\r\n          style={{ height: \"180px\", objectFit: \"cover\" }}\r\n          alt=\"example\"\r\n          src={images && images.length ? images[0].url : \"\"}\r\n        />\r\n      }\r\n      actions={[\r\n        <Link to={'/product/'+_id}>\r\n        <EyeOutlined className=\"text-warning\" />\r\n        </Link>\r\n        ,\r\n        <ShoppingCartOutlined\r\n          onClick={handleAddToCart}\r\n          className=\"text-danger\"\r\n        />,\r\n      ]}\r\n    >\r\n      <Meta title={\r\n        <div>\r\n        <Row>\r\n          <Col span={12} ><h5>{title}</h5></Col>\r\n          <Col span={12} style={{textAlign : 'right'}}><h5 style={{ color: '#19B687'}}> {price} บาท</h5></Col>\r\n        </Row>\r\n        </div>\r\n\r\n\r\n      } description={description } />\r\n     \r\n    </Card>\r\n   \r\n  );\r\n};\r\n\r\nexport default ProductCard;\r\n"],"mappings":"yGAAA;AACA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,MAArB,CACA,OAASC,WAAT,CAAsBC,oBAAtB,KAAkD,mBAAlD,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,GAAT,CAAcC,GAAd,KAAyB,MAAzB,CAEA;AACA,MAAOC,EAAP,KAAc,QAAd,C,wFAEA,GAAQC,KAAR,CAAiBT,IAAjB,CAAQS,IAAR,CAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,MAAiB,IAAdC,QAAc,MAAdA,OAAc,CACnC,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CAKCQ,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAsBH,OAAtB,EACD,GAAQI,IAAR,CAAmDJ,OAAnD,CAAQI,GAAR,CAAaC,KAAb,CAAmDL,OAAnD,CAAaK,KAAb,CAAoBC,WAApB,CAAmDN,OAAnD,CAAoBM,WAApB,CAAiCC,MAAjC,CAAmDP,OAAnD,CAAiCO,MAAjC,CAAyCC,KAAzC,CAAmDR,OAAnD,CAAyCQ,KAAzC,CAEA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,EAAK,CAC3B,GAAIC,KAAI,CAAG,EAAX,CACA,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,CAAgC,CAC9BF,IAAI,CAAGG,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAP,CACD,CACDF,IAAI,CAACK,IAAL,gCACKf,OADL,MAEEgB,KAAK,CAAC,CAFR,IAIA,GAAIC,OAAM,CAAGpB,CAAC,CAACqB,QAAF,CAAWR,IAAX,CAAgBb,CAAC,CAACsB,OAAlB,CAAb,CAEAR,YAAY,CAACS,OAAb,CAAqB,MAArB,CAA4BP,IAAI,CAACQ,SAAL,CAAeJ,MAAf,CAA5B,EAGAhB,QAAQ,CAAC,CACPqB,IAAI,CAAC,aADE,CAEPC,OAAO,CAACN,MAFD,CAAD,CAAR,CAIAhB,QAAQ,CAAC,CACPqB,IAAI,CAAC,aADE,CAEPC,OAAO,CAAC,IAFD,CAAD,CAAR,CAKD,CAvBD,CAyBA,mBAEE,KAAC,IAAD,EACE,SAAS,KADX,CAEE,KAAK,cACH,YACE,SAAS,CAAC,KADZ,CAEE,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAV,CAAmBC,SAAS,CAAE,OAA9B,CAFT,CAGE,GAAG,CAAC,SAHN,CAIE,GAAG,CAAElB,MAAM,EAAIA,MAAM,CAACmB,MAAjB,CAA0BnB,MAAM,CAAC,CAAD,CAAN,CAAUoB,GAApC,CAA0C,EAJjD,EAHJ,CAUE,OAAO,CAAE,cACP,KAAC,IAAD,EAAM,EAAE,CAAE,YAAYvB,GAAtB,uBACA,KAAC,WAAD,EAAa,SAAS,CAAC,cAAvB,EADA,EADO,cAKP,KAAC,oBAAD,EACE,OAAO,CAAEK,eADX,CAEE,SAAS,CAAC,aAFZ,EALO,CAVX,uBAqBE,KAAC,IAAD,EAAM,KAAK,cACT,kCACA,MAAC,GAAD,yBACE,KAAC,GAAD,EAAK,IAAI,CAAE,EAAX,uBAAgB,oBAAKJ,KAAL,EAAhB,EADF,cAEE,KAAC,GAAD,EAAK,IAAI,CAAE,EAAX,CAAe,KAAK,CAAE,CAACuB,SAAS,CAAG,OAAb,CAAtB,uBAA6C,YAAI,KAAK,CAAE,CAAEC,KAAK,CAAE,SAAT,CAAX,eAAkCrB,KAAlC,yBAA7C,EAFF,GADA,EADF,CASE,WAAW,CAAEF,WATf,EArBF,EAFF,CAqCD,CAvED,CAyEA,cAAeP,YAAf"},"metadata":{},"sourceType":"module"}
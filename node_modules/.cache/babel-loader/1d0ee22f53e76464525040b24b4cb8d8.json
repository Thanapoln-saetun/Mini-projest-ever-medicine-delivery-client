{"ast":null,"code":"import _slicedToArray from\"E:/Mern login/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"E:/Mern login/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import MenubarAdmin from\"../../layouts/MenubarAdmin\";import{useSelector}from\"react-redux\";// function\nimport{listProduct,removeProduct}from\"../../functions/product\";import AdminProductCard from\"../../card/AdminProductCard\";// notify\nimport{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useSelector=useSelector(function(state){return _objectSpread({},state);}),user=_useSelector.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){//\nloadData(100);},[]);var loadData=function loadData(count){setLoading(true);listProduct(count).then(function(res){setLoading(false);setProduct(res.data);}).catch(function(err){setLoading(false);console.log(err);});};var handleRemove=function handleRemove(id){// console.log(id)\nif(window.confirm(\"Delete ?\")){removeProduct(user.token,id).then(function(res){toast.success(\"Deleted \"+res.data.title+\" Success!!\");loadData(100);console.log(res);}).catch(function(err){toast.error('Remove Error');console.log(err);});}};return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(MenubarAdmin,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[loading?/*#__PURE__*/_jsx(\"h1\",{children:\"Loading....\"}):/*#__PURE__*/_jsxs(\"h1\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{class:\"badge\",style:{backgroundColor:'#3B82F6',color:'white',fontSize:'50px',padding:'10px',borderRadius:'10px',margin:'10px',textAlign:'center',display:'block'},children:\"Admin Dashboard\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:product.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 pb-3\",children:/*#__PURE__*/_jsx(AdminProductCard,{handleRemove:handleRemove,product:item})},item._id);})})]})]})});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","MenubarAdmin","useSelector","listProduct","removeProduct","AdminProductCard","toast","Home","state","user","product","setProduct","loading","setLoading","loadData","count","then","res","data","catch","err","console","log","handleRemove","id","window","confirm","token","success","title","error","backgroundColor","color","fontSize","padding","borderRadius","margin","textAlign","display","map","item","_id"],"sources":["E:/Mern login/client/src/components/pages/admin/Home.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport MenubarAdmin from \"../../layouts/MenubarAdmin\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n// function\r\nimport { listProduct, removeProduct } from \"../../functions/product\";\r\nimport AdminProductCard from \"../../card/AdminProductCard\";\r\n// notify\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Home = () => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n  const [product, setProduct] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    //\r\n    loadData(100);\r\n  }, []);\r\n\r\n  const loadData = (count) => {\r\n    setLoading(true);\r\n    listProduct(count)\r\n      .then((res) => {\r\n        setLoading(false);\r\n        setProduct(res.data);\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleRemove = (id) => {\r\n    // console.log(id)\r\n    if (window.confirm(\"Delete ?\")) {\r\n      removeProduct(user.token, id)\r\n        .then((res) => {\r\n          toast.success(\"Deleted \"+res.data.title+\" Success!!\" )\r\n          loadData(100);\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          toast.error('Remove Error')\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <MenubarAdmin />\r\n        </div>\r\n\r\n        <div className=\"col\">\r\n          {loading ? <h1>Loading....</h1> : <h1> <span class=\"badge\" style={ {backgroundColor: '#3B82F6', color: 'white', fontSize: '50px', padding: '10px', borderRadius: '10px', margin: '10px', textAlign: 'center', display: 'block'} }>Admin Dashboard</span></h1>}\r\n\r\n          <div className=\"row\">\r\n            {product.map((item) => (\r\n              <div key={item._id} className=\"col-md-4 pb-3\">\r\n                <AdminProductCard handleRemove={handleRemove} product={item} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"mNAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,aAAP,KAAyB,4BAAzB,CACA,OAASC,WAAT,KAA4B,aAA5B,CAEA;AACA,OAASC,WAAT,CAAsBC,aAAtB,KAA2C,yBAA3C,CACA,MAAOC,iBAAP,KAA6B,6BAA7B,CACA;AACA,OAASC,KAAT,KAAsB,gBAAtB,C,wFAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACjB,iBAAiBL,WAAW,CAAC,SAACM,KAAD,0BAAiBA,KAAjB,GAAD,CAA5B,CAAQC,IAAR,cAAQA,IAAR,CACA,cAA8BV,QAAQ,CAAC,EAAD,CAAtC,wCAAOW,OAAP,eAAgBC,UAAhB,eACA,eAA8BZ,QAAQ,CAAC,KAAD,CAAtC,yCAAOa,OAAP,eAAgBC,UAAhB,eAEAb,SAAS,CAAC,UAAM,CACd;AACAc,QAAQ,CAAC,GAAD,CAAR,CACD,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAMA,SAAQ,CAAG,QAAXA,SAAW,CAACC,KAAD,CAAW,CAC1BF,UAAU,CAAC,IAAD,CAAV,CACAV,WAAW,CAACY,KAAD,CAAX,CACGC,IADH,CACQ,SAACC,GAAD,CAAS,CACbJ,UAAU,CAAC,KAAD,CAAV,CACAF,UAAU,CAACM,GAAG,CAACC,IAAL,CAAV,CACD,CAJH,EAKGC,KALH,CAKS,SAACC,GAAD,CAAS,CACdP,UAAU,CAAC,KAAD,CAAV,CACAQ,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CARH,EASD,CAXD,CAaA,GAAMG,aAAY,CAAG,QAAfA,aAAe,CAACC,EAAD,CAAQ,CAC3B;AACA,GAAIC,MAAM,CAACC,OAAP,CAAe,UAAf,CAAJ,CAAgC,CAC9BtB,aAAa,CAACK,IAAI,CAACkB,KAAN,CAAaH,EAAb,CAAb,CACGR,IADH,CACQ,SAACC,GAAD,CAAS,CACbX,KAAK,CAACsB,OAAN,CAAc,WAAWX,GAAG,CAACC,IAAJ,CAASW,KAApB,CAA0B,YAAxC,EACAf,QAAQ,CAAC,GAAD,CAAR,CACAO,OAAO,CAACC,GAAR,CAAYL,GAAZ,EACD,CALH,EAMGE,KANH,CAMS,SAACC,GAAD,CAAS,CACdd,KAAK,CAACwB,KAAN,CAAY,cAAZ,EACAT,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CATH,EAUD,CACF,CAdD,CAgBA,mBACE,YAAK,SAAS,CAAC,iBAAf,uBACE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,YAAD,IADF,EADF,cAKE,aAAK,SAAS,CAAC,KAAf,WACGR,OAAO,cAAG,mCAAH,cAA0B,uCAAK,aAAM,KAAK,CAAC,OAAZ,CAAoB,KAAK,CAAG,CAACmB,eAAe,CAAE,SAAlB,CAA6BC,KAAK,CAAE,OAApC,CAA6CC,QAAQ,CAAE,MAAvD,CAA+DC,OAAO,CAAE,MAAxE,CAAgFC,YAAY,CAAE,MAA9F,CAAsGC,MAAM,CAAE,MAA9G,CAAsHC,SAAS,CAAE,QAAjI,CAA2IC,OAAO,CAAE,OAApJ,CAA5B,6BAAL,GADpC,cAGE,YAAK,SAAS,CAAC,KAAf,UACG5B,OAAO,CAAC6B,GAAR,CAAY,SAACC,IAAD,qBACX,YAAoB,SAAS,CAAC,eAA9B,uBACE,KAAC,gBAAD,EAAkB,YAAY,CAAEjB,YAAhC,CAA8C,OAAO,CAAEiB,IAAvD,EADF,EAAUA,IAAI,CAACC,GAAf,CADW,EAAZ,CADH,EAHF,GALF,GADF,EADF,CAqBD,CA5DD,CA8DA,cAAelC,KAAf"},"metadata":{},"sourceType":"module"}
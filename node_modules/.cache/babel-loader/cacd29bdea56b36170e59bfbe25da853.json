{"ast":null,"code":"import _slicedToArray from\"E:/Mern login/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"E:/Mern login/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";//rafce\nimport React,{useEffect,useState}from\"react\";import MenubarAdmin from\"../../../layouts/MenubarAdmin\";//function\nimport{ReadCategory,EditCategory}from\"../../../functions/category\";import{useParams,useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import{useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateCategory=function UpdateCategory(){var _useSelector=useSelector(function(state){return _objectSpread({},state);}),user=_useSelector.user;var navigate=useNavigate();var param=useParams();// console.log(param.id)\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];useEffect(function(){//\nloadData(user.token,param.id);},[]);var loadData=function loadData(authtoken,id){ReadCategory(authtoken,id).then(function(res){setName(res.data.name);}).catch(function(err){console.log(err);});};var handleSubmit=function handleSubmit(e){e.preventDefault();//ไม่ให้รีโหลด ปัญหา\nEditCategory(user.token,param.id,{name:name}).then(function(res){navigate(\"/admin/create-category\");toast.success(\"Update \"+res.data.name+\" Success!!\");}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(MenubarAdmin,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"badge\",style:{backgroundColor:'#3B82F6',color:'white',fontSize:'50px',padding:'10px',borderRadius:'10px',margin:'10px',textAlign:'center',display:'block'},children:\"Update Category\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Update Category\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mt-2\",value:name,autoFocus:true,required:true,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary mt-2\",children:\"Submit\"})]})})]})]})});};export default UpdateCategory;","map":{"version":3,"names":["React","useEffect","useState","MenubarAdmin","ReadCategory","EditCategory","useParams","useNavigate","toast","useSelector","UpdateCategory","state","user","navigate","param","name","setName","loadData","token","id","authtoken","then","res","data","catch","err","console","log","handleSubmit","e","preventDefault","success","backgroundColor","color","fontSize","padding","borderRadius","margin","textAlign","display","target","value"],"sources":["E:/Mern login/client/src/components/pages/admin/category/UpdateCategory.js"],"sourcesContent":["//rafce\r\nimport React, { useEffect, useState } from \"react\";\r\nimport MenubarAdmin from \"../../../layouts/MenubarAdmin\";\r\n//function\r\nimport { ReadCategory, EditCategory } from \"../../../functions/category\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n\r\nconst UpdateCategory = () => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  const navigate = useNavigate();\r\n  const param = useParams();\r\n\r\n  // console.log(param.id)\r\n  const [name, setName] = useState(\"\");\r\n  useEffect(() => {\r\n    //\r\n    loadData(user.token,param.id);\r\n  }, []);\r\n\r\n  const loadData = (authtoken,id) => {\r\n    ReadCategory(authtoken,id)\r\n      .then((res) => {\r\n        setName(res.data.name);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();//ไม่ให้รีโหลด ปัญหา\r\n    EditCategory(user.token,param.id, { name })\r\n      .then((res) => {\r\n        navigate(\"/admin/create-category\");\r\n        toast.success(\"Update \"+ res.data.name+ \" Success!!\")\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <MenubarAdmin />\r\n        </div>\r\n\r\n        <div className=\"col\">\r\n            {/* <h1>Hello update page</h1> */}\r\n        <span class=\"badge\" style={ {backgroundColor: '#3B82F6', color: 'white', fontSize: '50px', padding: '10px', borderRadius: '10px', margin: '10px', textAlign: 'center', display: 'block'} }>\r\n        Update Category\r\n          </span>\r\n        \r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"form-group\">\r\n              <label>Update Category</label>\r\n              <input\r\n                className=\"form-control mt-2\"\r\n                value={name}\r\n                autoFocus\r\n                required\r\n                onChange={(e) => setName(e.target.value)}\r\n              />\r\n              <button className=\"btn btn-outline-primary mt-2\">Submit</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateCategory;\r\n"],"mappings":"mNAAA;AACA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,aAAP,KAAyB,+BAAzB,CACA;AACA,OAASC,YAAT,CAAuBC,YAAvB,KAA2C,6BAA3C,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,kBAAvC,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,WAAT,KAA4B,aAA5B,C,wFAGA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CAC3B,iBAAiBD,WAAW,CAAC,SAACE,KAAD,0BAAiBA,KAAjB,GAAD,CAA5B,CAAQC,IAAR,cAAQA,IAAR,CAEA,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CACA,GAAMO,MAAK,CAAGR,SAAS,EAAvB,CAEA;AACA,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOa,IAAP,eAAaC,OAAb,eACAf,SAAS,CAAC,UAAM,CACd;AACAgB,QAAQ,CAACL,IAAI,CAACM,KAAN,CAAYJ,KAAK,CAACK,EAAlB,CAAR,CACD,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAMF,SAAQ,CAAG,QAAXA,SAAW,CAACG,SAAD,CAAWD,EAAX,CAAkB,CACjCf,YAAY,CAACgB,SAAD,CAAWD,EAAX,CAAZ,CACGE,IADH,CACQ,SAACC,GAAD,CAAS,CACbN,OAAO,CAACM,GAAG,CAACC,IAAJ,CAASR,IAAV,CAAP,CACD,CAHH,EAIGS,KAJH,CAIS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CANH,EAOD,CARD,CAUA,GAAMG,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GAAmB;AACnBzB,YAAY,CAACO,IAAI,CAACM,KAAN,CAAYJ,KAAK,CAACK,EAAlB,CAAsB,CAAEJ,IAAI,CAAJA,IAAF,CAAtB,CAAZ,CACGM,IADH,CACQ,SAACC,GAAD,CAAS,CACbT,QAAQ,CAAC,wBAAD,CAAR,CACAL,KAAK,CAACuB,OAAN,CAAc,UAAWT,GAAG,CAACC,IAAJ,CAASR,IAApB,CAA0B,YAAxC,EACD,CAJH,EAKGS,KALH,CAKS,SAACC,GAAD,QAASC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EALT,EAMD,CARD,CASA,mBACE,YAAK,SAAS,CAAC,iBAAf,uBACE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,YAAD,IADF,EADF,cAKE,aAAK,SAAS,CAAC,KAAf,wBAEA,aAAM,KAAK,CAAC,OAAZ,CAAoB,KAAK,CAAG,CAACO,eAAe,CAAE,SAAlB,CAA6BC,KAAK,CAAE,OAApC,CAA6CC,QAAQ,CAAE,MAAvD,CAA+DC,OAAO,CAAE,MAAxE,CAAgFC,YAAY,CAAE,MAA9F,CAAsGC,MAAM,CAAE,MAA9G,CAAsHC,SAAS,CAAE,QAAjI,CAA2IC,OAAO,CAAE,OAApJ,CAA5B,6BAFA,cAOE,aAAM,QAAQ,CAAEX,YAAhB,uBACE,aAAK,SAAS,CAAC,YAAf,wBACE,0CADF,cAEE,cACE,SAAS,CAAC,mBADZ,CAEE,KAAK,CAAEb,IAFT,CAGE,SAAS,KAHX,CAIE,QAAQ,KAJV,CAKE,QAAQ,CAAE,kBAACc,CAAD,QAAOb,QAAO,CAACa,CAAC,CAACW,MAAF,CAASC,KAAV,CAAd,EALZ,EAFF,cASE,eAAQ,SAAS,CAAC,8BAAlB,oBATF,GADF,EAPF,GALF,GADF,EADF,CA+BD,CA/DD,CAiEA,cAAe/B,eAAf"},"metadata":{},"sourceType":"module"}
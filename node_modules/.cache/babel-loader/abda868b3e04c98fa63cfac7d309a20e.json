{"ast":null,"code":"import { Base } from './Base.js';\nexport class Bitfield extends Base {\n  constructor(type) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    super();\n    this.type = type;\n    this.flags = flags;\n  }\n\n  decode(stream) {\n    const val = this.type.decode(stream);\n    const res = {};\n\n    for (let i = 0; i < this.flags.length; i++) {\n      const flag = this.flags[i];\n\n      if (flag != null) {\n        res[flag] = !!(val & 1 << i);\n      }\n    }\n\n    return res;\n  }\n\n  size() {\n    return this.type.size();\n  }\n\n  encode(stream, keys) {\n    let val = 0;\n\n    for (let i = 0; i < this.flags.length; i++) {\n      const flag = this.flags[i];\n\n      if (flag != null) {\n        if (keys[flag]) {\n          val |= 1 << i;\n        }\n      }\n    }\n\n    return this.type.encode(stream, val);\n  }\n\n}","map":{"version":3,"names":["Base","Bitfield","constructor","type","flags","decode","stream","val","res","i","length","flag","size","encode","keys"],"sources":["E:/Mern login/client/node_modules/restructure/src/Bitfield.js"],"sourcesContent":["import {Base} from './Base.js';\n\nexport class Bitfield extends Base {\n  constructor(type, flags = []) {\n    super();\n    this.type = type;\n    this.flags = flags;\n  }\n\n  decode(stream) {\n    const val = this.type.decode(stream);\n\n    const res = {};\n    for (let i = 0; i < this.flags.length; i++) {\n      const flag = this.flags[i];\n      if (flag != null) {\n        res[flag] = !!(val & (1 << i));\n      }\n    }\n\n    return res;\n  }\n\n  size() {\n    return this.type.size();\n  }\n\n  encode(stream, keys) {\n    let val = 0;\n    for (let i = 0; i < this.flags.length; i++) {\n      const flag = this.flags[i];\n      if (flag != null) {\n        if (keys[flag]) { val |= (1 << i); }\n      }\n    }\n\n    return this.type.encode(stream, val);\n  }\n}\n"],"mappings":"AAAA,SAAQA,IAAR,QAAmB,WAAnB;AAEA,OAAO,MAAMC,QAAN,SAAuBD,IAAvB,CAA4B;EACjCE,WAAW,CAACC,IAAD,EAAmB;IAAA,IAAZC,KAAY,uEAAJ,EAAI;IAC5B;IACA,KAAKD,IAAL,GAAYA,IAAZ;IACA,KAAKC,KAAL,GAAaA,KAAb;EACD;;EAEDC,MAAM,CAACC,MAAD,EAAS;IACb,MAAMC,GAAG,GAAG,KAAKJ,IAAL,CAAUE,MAAV,CAAiBC,MAAjB,CAAZ;IAEA,MAAME,GAAG,GAAG,EAAZ;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKL,KAAL,CAAWM,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;MAC1C,MAAME,IAAI,GAAG,KAAKP,KAAL,CAAWK,CAAX,CAAb;;MACA,IAAIE,IAAI,IAAI,IAAZ,EAAkB;QAChBH,GAAG,CAACG,IAAD,CAAH,GAAY,CAAC,EAAEJ,GAAG,GAAI,KAAKE,CAAd,CAAb;MACD;IACF;;IAED,OAAOD,GAAP;EACD;;EAEDI,IAAI,GAAG;IACL,OAAO,KAAKT,IAAL,CAAUS,IAAV,EAAP;EACD;;EAEDC,MAAM,CAACP,MAAD,EAASQ,IAAT,EAAe;IACnB,IAAIP,GAAG,GAAG,CAAV;;IACA,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKL,KAAL,CAAWM,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;MAC1C,MAAME,IAAI,GAAG,KAAKP,KAAL,CAAWK,CAAX,CAAb;;MACA,IAAIE,IAAI,IAAI,IAAZ,EAAkB;QAChB,IAAIG,IAAI,CAACH,IAAD,CAAR,EAAgB;UAAEJ,GAAG,IAAK,KAAKE,CAAb;QAAkB;MACrC;IACF;;IAED,OAAO,KAAKN,IAAL,CAAUU,MAAV,CAAiBP,MAAjB,EAAyBC,GAAzB,CAAP;EACD;;AAnCgC"},"metadata":{},"sourceType":"module"}